<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tìm Việc Làm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Custom CSS for chatbox */


        .chatbox-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            height: 90%;
            width: 70%;
            /* Set width to half of the viewport width */
            border-radius: 10px;
            background-color: white;
            display: flex;
            flex-direction: column;
        }

        .chatbox-body {
            padding: 10px;
            flex: 1;
            overflow-y: auto;
        }

        .search-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
        }

        .chat-input {
            flex: 1;
        }

        .message {
            display: flex;
            margin: 10px 0;
        }

        .sent {
            background-color: #007bff;
            color: white;
            align-self: flex-end;
            margin-left: auto;
            padding: 10px;
            border-radius: 5px;
            max-width: 70%;
        }

        .received {
            background-color: #f0f0f0;
            align-self: flex-start;
            margin-right: auto;
            padding: 10px;
            border-radius: 5px;
            max-width: 70%;
        }
    </style>
</head>

<body>

    <main>
        <div class="col-3 bg-white" style="height: 100vh;">
            <div>
                <a href=""><i class="fa fa-solid fa-house"></i> trang chủ</a>
                <div class="bg-black">
                    <a href=""> <i class="fa fa-solid fa-user"></i>đăng nhập</a>
                    <a href=""><i class="fas fa-user-plus"></i>đăng ký</a>
                </div>
                <hr>
                <div>
                    <button class="btn btn-success" type="button" id="createButton">New chat</button>
                </div>
            </div>
        </div>
        <div class="container">
            <div class=>
                <div class="chatbox-container">
                    <div class="chatbox-body">
                        <div class="chatbox-body" id="message-list">
                            <!-- Tin nhắn sẽ được thêm ở đây -->
                        </div>


                    </div>

                    <div class="search-bar">
                        <input class="chat-input form-control" type="text" placeholder="Enter your message">
                        <button class="send-button btn btn-primary"> <a href="#add">Gửi</a></button>
                    </div>
                </div>
            </div>
        </div>
    </main>

</body>
<script>
    const messageList = document.getElementById("message-list");
    const chatInput = document.querySelector(".chat-input");

    // Hàm để gửi tin nhắn
    function sendMessage() {
        const messageText = chatInput.value;
        addMessage("You", messageText);
        chatInput.value = "";

        // Tự động tạo một phản hồi từ người khác sau khi gửi tin nhắn
        setTimeout(() => {
            addMessage("John", "I have more     questions.");
            scrollToBottom(); // Scroll to the bottom after adding a new message
        }, 1000);
    }

    // Xử lý sự kiện khi người dùng ấn Enter
    function handleChatInputKeyPress(event) {
        if (event.keyCode === 13) {
            event.preventDefault(); // Prevent the newline character from being inserted
            sendMessage();
        }
    }

    // Hàm để thêm tin nhắn
    function addMessage(sender, text) {
        // Get the HTML element you want to add an id to

        const messageDiv = document.createElement("div");
        messageDiv.classList.add("message");

        if (sender === "You") {
            messageDiv.classList.add("sent");
        } else {
            messageDiv.classList.add("received");
        }

        messageDiv.innerHTML = `${sender}: ${text}`;
        messageList.appendChild(messageDiv);
        scrollToBottom();

        // Add the id attribute to the element
        messageList[messageList.le];
        messageDiv.setAttribute("id", "add");

    }

    // Hàm để cuộn xuống dưới cùng của danh sách tin nhắn
    function scrollToBottom() {
        messageList.scrollTop = messageList.scrollHeight - messageList.clientHeight;
    }

    chatInput.addEventListener("keydown", handleChatInputKeyPress);

    // Thêm một số tin nhắn mẫu ban đầu
    addMessage("You", "Hello, how can I help you?");
    addMessage("John", "I need information about your products.");

</script>





</html>